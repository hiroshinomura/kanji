const kanjiQuiz = [
    ["彼の『じんせい』は波乱万丈で、さまざまな経験を通じて成長してきました。", "人生"],
    ["『じんせい』において、正直さは非常に重要な要素です。", "人性"],
    ["週末は『こうえん』で子供たちと遊ぶのが楽しみです。", "公園"],
    ["有名な作家の『こうえん』を聞くために、多くの人が集まりました。", "講演"],
    ["この新しい『きかい』を使えば、作業効率が大幅に向上します。", "機械"],
    ["彼はその『きかい』を利用して、新しいプロジェクトを立ち上げました。", "機会"],
    ["山頂までの道のりは険しかったが、ついに『ちょうじょう』に到達しました。", "頂上"],
    ["彼は『ちょうじょう』現象を信じており、その研究に没頭しています。", "超常"],
    ["我々はこの『もんだい』を解決するために、あらゆる手段を講じる必要があります。", "問題"],
    ["この新しいシステムには全く『もんだい』がないため、安心して使用できます。", "無難"],
    ["彼の発言には常に深い『かんしん』を覚えます。", "関心"],
    ["彼の努力には本当に『かんしん』させられます。", "感心"],
    ["このプロジェクトには多くの人々の『かんしん』が集まっています。", "関心"],
    ["その出来事には非常に『かんしん』を持ちました。", "関心"],
    ["この作家の作品は非常に『ゆうめい』で、世界中で読まれています。", "有名"],
    ["彼の研究は非常に『ゆうめい』で、学会でも高く評価されています。", "有名"],
    ["この薬は非常に『ゆうこう』で、多くの患者が回復しました。", "有効"],
    ["その手段は非常に『ゆうこう』に活用されています。", "有効"],
    ["彼は美しい『けしき』を描くのが得意です。", "景色"],
    ["その表情から彼の内心の『けしき』を読み取ることができました。", "気色"],
    ["『しんぶん』を読んで、最新のニュースを把握しています。", "新聞"],
    ["彼の驚くべき『しんぶん』を聞いて、皆が驚きました。", "新聞"],
    ["彼女の『けんこう』状態は非常に良好です。", "健康"],
    ["日々の運動は『けんこう』を保つために重要です。", "健康"],
    ["あの人は本当に立派な『じんぶつ』です。", "人物"],
    ["彼女は『じんぶつ』画を描くのが好きです。", "人物"],
    ["彼は有名な『かいしゃ』に勤めています。", "会社"],
    ["この『かいしゃ』は非常に規模が大きいです。", "会社"],
    ["『せいふ』の決定により、新しい法律が施行されました。", "政府"],
    ["彼の意見には『せいふ』も同意しています。", "政府"],
    ["彼は非常に『ゆうこう』なアドバイスをくれました。", "有効"],
    ["この薬は非常に『ゆうこう』です。", "有効"],
    ["彼の『かいけつ』策は非常に効果的でした。", "解決"],
    ["問題の『かいけつ』策を見つけることができました。", "解決"],
    ["この『しょくぶつ』はとても美しい花を咲かせます。", "植物"],
    ["彼の庭には多くの『しょくぶつ』が植えられています。", "植物"],
    ["この場所は非常に『あんぜん』です。", "安全"],
    ["夜道でも『あんぜん』に歩くことができます。", "安全"],
    ["彼の提案は非常に『ゆうこう』でした。", "有効"],
    ["その方法は非常に『ゆうこう』に使えます。", "有効"],
    ["彼は多くの『けいけん』を持っています。", "経験"],
    ["彼女の話を聞いて、多くの『けいけん』を学びました。", "経験"],
    ["その映画は非常に『ゆうめい』です。", "有名"],
    ["彼の名前は世界中で『ゆうめい』です。", "有名"],
    ["彼の『じんせい』は非常に興味深いものでした。", "人生"],
    ["彼女の『じんせい』について話を聞くのが好きです。", "人生"],
    ["この会議は非常に『ゆうこう』でした。", "有効"],
    ["彼の提案は『ゆうこう』に受け入れられました。", "有効"],
    ["彼の計画は非常に『ゆうこう』に進行しています。", "有効"],
    ["彼の行動は非常に『ゆうこう』です。", "有効"],
    ["その話には非常に『かんどう』しました。", "感動"],
    ["その映画は多くの人々に『かんどう』を与えました。", "感動"],
    ["彼の『かんしん』な行動にはいつも驚かされます。", "関心"],
    ["その出来事には非常に『かんしん』を持ちました。", "関心"],
    ["彼の『けんこう』状態を確認しました。", "健康"],
    ["彼女の『けんこう』を保つために、毎日運動しています。", "健康"],
    ["この場所は非常に『あんぜん』です。", "安全"],
    ["夜道でも『あんぜん』に歩けます。", "安全"],
    ["彼の『ゆうこう』なアドバイスにはいつも助けられます。", "有効"],
    ["この薬は非常に『ゆうこう』です。", "有効"],
    ["彼の『けいけん』から多くを学びました。", "経験"],
    ["多くの『けいけん』を持っている彼女から学びました。", "経験"],
    ["その風景は本当に『けしき』が美しいです。", "景色"],
    ["その日の『けしき』は非常に良かったです。", "景色"],
    ["彼の行動は非常に『ゆうこう』です。", "有効"],
    ["その方法は非常に『ゆうこう』に使えます。", "有効"],
    ["彼の提案は非常に『ゆうこう』です。", "有効"],
    ["その計画は非常に『ゆうこう』に進んでいます。", "有効"],
    ["彼の『かんしん』な話には驚かされました。", "感心"],
    ["彼の成功に『かんしん』しました。", "感心"],
    ["彼の『けいけん』について話を聞きました。", "経験"],
    ["彼女の『けいけん』を聞いて多くを学びました。", "経験"],
    ["その風景は本当に『けしき』が美しいです。", "景色"],
    ["その日の『けしき』は非常に良かったです。", "景色"],
    ["彼の『じんせい』は波乱万丈で、非常に興味深いです。", "人生"],
    ["その計画は非常に『ゆうこう』に進行しています。", "有効"],
    ["彼の行動は非常に『ゆうこう』です。", "有効"],
    ["その方法は非常に『ゆうこう』に使えます。", "有効"],
    ["彼の『けいけん』について話を聞きました。", "経験"],
    ["彼女の『けいけん』を聞いて多くを学びました。", "経験"]
];

document.addEventListener('DOMContentLoaded', () => {
    const questionElement = document.getElementById('question');
    const answerElement = document.getElementById('answer');
    const submitButton = document.getElementById('submit');
    const resultElement = document.getElementById('result');

    let currentKanji = '';

    function newQuestion() {
        const [sentence, kanji] = kanjiQuiz[Math.floor(Math.random() * kanjiQuiz.length)];
        currentKanji = kanji;
        questionElement.textContent = `次の文のカギカッコのひらがなを漢字にしてください: ${sentence}`;
        answerElement.value = '';
        resultElement.textContent = '';
        speak(sentence);
    }

    function checkAnswer() {
        const userAnswer = answerElement.value;
        if (userAnswer === currentKanji) {
            resultElement.textContent = `正解！ 正しい漢字: ${currentKanji}`;
        } else {
            resultElement.textContent = `不正解。正しい漢字は ${currentKanji} です。`;
        }
        setTimeout(newQuestion, 3000);  // 3秒後に新しい問題を出題
    }

    function speak(text) {
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            speechSynthesis.speak(utterance);
        } else {
            console.error("This browser does not support speech synthesis.");
        }
    }

    answerElement.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            checkAnswer();
        }
    });

    submitButton.addEventListener('click', checkAnswer);
    newQuestion();
});
